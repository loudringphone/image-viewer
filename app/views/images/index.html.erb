<div class="container flex flex-col items-center" data-controller='images'>
   <% if !flash[:notice].blank? %>
      <div class='text-sm text-green-600'>
         <%= flash[:notice] %>
      </div>
   <% end %>


   <table class='text-left border-separate border-spacing-y-5'>
      <thead>
         <tr>
            <th class='w-[80px]'>Preview</th>
            <th class='w-[250px]'>Title</th>
            <th class='w-[130px]'>Upload Time</th>
            <th class='text-center'>Actions</th>
         </tr>
      </thead>

      <tbody data-images-target="tbody">
         <% @images.each do |image| %>
            <tr>
               <td>
                  <a href="<%= image_path(image) %>">
                     <img class="h-[50px]" src="<%= image.attachment_url %>" alt="<%= image.title %>">
                  </a>
               </td>
               <td><%= link_to image.title, image_path(image) %></td>
               <td class='text-xs text-wrap'><%= image.uploaded_time.strftime("%d-%b-%y %H:%M:%S") %></td>
               <td>
                  <form action="<%= image_path(image) %>" method="post" class="delete-form text-center">
                  <%= hidden_field_tag :_method, :delete %>
                  <button class='text-xs' type="submit" onclick="return confirm('Are you sure you want to delete this image?')">Delete</button>
                  </form>
               </td>
            </tr>

         <% end %>
      </tbody>

   </table>
</div>